<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>

<link rel="stylesheet" href="/css/main.css" type="text/css">

<style>

input {
	width: 200px;
}

.add_buttonZone {
	text-align:center;
	padding-top: 20px;
}

.table_title {
	text-align:center;
}

option, select {
	text-align: center;
	width: 90%;
}

input {
	text-align: center;
	width: 305px;
}

#add input +.error {
	display:block; color:red;
}

</style>
<body>


<div class="wrapper">
	<div class="left_navbar">
		<ul>
			<li><a href="/user/user_list" >사용자 관리</a></li>
				<ul>
					<li><a href="/user/user_add" >사용자 등록</a></li>
				</ul>
			<li>사용자 권한 설정</li>
			<li>메뉴 권한 설정</li>
			<li>메뉴 설정</li>		
		</ul>
	</div>
	
	
	<div class="user_table">
		<div class="table_title">
			<h1>사용자 등록</h1>
		</div>
		
		<form id="add" name="add">
		<table width="500px">
			<tr>
				<th width="30%">아이디</th>
				<td><input type="text" id="roginId" name="roginId" class="form-control"></td>
			</tr>
			<tr>
				<th>이름</th>
				<td><input type="text" id="username" name="username"></td>
			</tr>	
			<tr>
				<th>부서</th>
				<td>
					<select name="department" id="department">
                        <option value="">부서를 선택하세요</option>
                        <option value="경영">경영</option>
                        <option value="운영">운영</option>
                        <option value="기획">기획</option>
                        <option value="마케팅">마케팅</option>
                        <option value="관계사">관계사</option>
                    </select>
				</td>
			</tr>	
			<tr>
				<th>역할</th>
				<td>	
					<select name="department" id="department">
                        <option value="">역할을 선택하세요</option>
                        <option value="경영">관리자</option>
                        <option value="운영">부관리자</option>
                        <option value="기획">직원</option>
                        <option value="마케팅">제한</option>
                        <option value="관계사">관계사</option>
                    </select>
               </td>
			</tr>	
			<tr>
				<th>이메일</th>
				<td><input type="text" id="email" name="email"></td>
			</tr>	
			<tr>
				<th>연락처</th>
				<td><input type="text" id="email" name="email"></td>
			</tr>				
				
		</table>
		</form>
		
		<div class="add_buttonZone" >
			<button type="button">취소</button>
			<button>등록</button>
		</div>

	</div>
	
</div>	
	
<script src="/js/plugins/jquery-2.1.1.js"></script>	
<script src="/js/plugins/sweetalert/sweetalert.min.js" async></script>
<script src="/js/plugins/validate/jquery.validate.min.js"></script>
<script src="/js/plugins/validate/validate-ko.js" ></script>

<script>


$(document).ready(function () {
	
	

	$("#add").validate({

            rules: {
                loginId: {
                    required: true,
                    rangelength: [3, 12],
                },
                username: {
                    required: true,
                    rangelength: [3, 12],
                },
                department: "required",
                phone: {
                    required: true,
                    regex : "^01(?:0|1|[6-9])[-\\s]?\\d{3,4}[-\\s]?\\d{4}$",
                    //isMobile: true
                },
                role: "required",
                email: {
                    required: true,
                    emChc: "^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*\.+[a-zA-Z]{2,3}$",
                    //"^([a-zA-Z0-9_.+-])+\@([a-zA-Z0-9-])+\.+([a-zA-Z0-9]{2,4})+$",
                    //"^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]+$/",
                },           
            },
            messages: {
            	loginId: {
                    required: "아이디를 입력하세요",
                    rangelength: jQuery.validator.format("3-12자 사이의 영어/한글을 입력하세요"),
                    remote: jQuery.validator.format("{0} is already in use")
                },
                username: {
                    required: "비밀번호를 입력하세요",
                    rangelength: jQuery.validator.format("3-12자 사이의 영어/한글을 입력하세요"),
                    remote: jQuery.validator.format("{0} is already in use")
                },
                department:"부서를 선택하세요",
                phone: {
                    required: "전화번호를 입력하세요",
                    regex: "유효한 전화번호로 입력하세요"
                    //isMobile: "유효한 전화번로를 입력하세요"
                },
                role: "역할을 선택하세요",
                email: {
                    required: "email 주소를 입력하세요",
                    emChc: jQuery.validator.format("email 형식이 맞지 않습니다"),
                    remote: jQuery.validator.format("{0} is already in use")
                }
            },
            debug: false,  // 기본값: false 입력값이 유효해도 submit 하지 않음
            // submitHandler : submit이벤트만 발생, 실제 form전송이 일어나지 않음
            //submitHandler: function (form) {
             //   addform(form);
           // }

        });

        function addform(form) {
            $.ajax({
                url: 'user_add',
                type: "post",
                data: $(form).serialize(), 
                success: function (result) {
                    swal("사용자를 추가 했습니다", "", "success");
                 
                }
            });
        }
        
})
        
</script>

</body>
</html>


